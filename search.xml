<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[Java正则表达式的匹配]]></title>
      <url>http://xiaoai.site/2016/06/29/Java%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%8C%B9%E9%85%8D/</url>
      <content type="html"><![CDATA[<h4 id="Java中正则匹配的转义"><a href="#Java中正则匹配的转义" class="headerlink" title="Java中正则匹配的转义"></a>Java中正则匹配的转义</h4><p>Java中无论是String.matches()|Pattern.matches|Matcher.matches()所需要的正则表达式均为字符串，因此与常见的正则表达式有所不同。比如有下面一个字符串:<br> <a id="more"></a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;<span class="string">"timestamp"</span>:<span class="string">"1087188754894"</span>&#125;</div></pre></td></tr></table></figure></p>
<p>如果你把它放到java的字符串里面去，它会变成这样子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">String sdd =<span class="string">"&#123;\"timestamp\":\"1467188864896\"&#125;"</span>;</div></pre></td></tr></table></figure>
<p>可以看到对[“]需要转义为\” 代表字符串中的特殊符号，需要原样输出<br>同理，对于要放到字符串里面的正则表达式，同样需要转义，比如我想输入一个\，在正则里面是\，放到字符串，这两个反斜杠均代表特殊含义（\n \t 等）所以需要转义原样输出，所以此时应该用\\表示匹配一个反斜杠</p>
<p>匹配上述字符串的正则为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">\&#123;(<span class="string">"timestamp"</span>:<span class="string">"\d+"</span>)\&#125;</div></pre></td></tr></table></figure>
<p>转成String类型如下所示：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">"\\&#123;(\"timestamp\":\"\\d+\")\\&#125;"</span></div></pre></td></tr></table></figure></p>
<p>此时成功匹配到2组。</p>
<p>这里推荐一个网站<a href="http://www.regexplanet.com/advanced/java/index.html" target="_blank" rel="external">regexplanet</a>这个网站只需要你提供原字符串和正则匹配式，他会帮你完成转字符串的各项工作，并提供了丰富的模式可选。这个网站同样提供了其他语言的版本。</p>
<h4 id="Java中正则匹配的分组"><a href="#Java中正则匹配的分组" class="headerlink" title="Java中正则匹配的分组"></a>Java中正则匹配的分组</h4><p>同样是上面的字符串，现在有另外一个要求：将两遍的花括号去除，那么就要使用组的概念，以小括号为组，<strong>从左向右，从外到里</strong>，分别计组，其中第0组为整体， 从stackoverflow上看到的一图流，一眼看懂分组，如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(group)(?:non-capturing-group)(g(?:ro|u)p( (nested)inside)(another)group)(?=assertion)</div><div class="line">|     |                       |          | |      |      ||       |     |</div><div class="line"><span class="number">1</span>-----<span class="number">1</span>                       |          | <span class="number">4</span>------<span class="number">4</span>      |<span class="number">5</span>-------<span class="number">5</span>     |</div><div class="line">                              |          <span class="number">3</span>---------------<span class="number">3</span>              |</div><div class="line">                              <span class="number">2</span>-----------------------------------------<span class="number">2</span></div></pre></td></tr></table></figure>
<p>匹配前文提到的字符串，去除两遍的花括号，写个测试类如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PatternGroup</span><span class="params">()</span></span>&#123;</div><div class="line">    String sourceStr =<span class="string">"&#123;\"timestamp\":\"1087188754894\"&#125;"</span>;</div><div class="line">    String patternStr = <span class="string">"\\&#123;(\"timestamp\":\"\\d+\")\\&#125;"</span>;</div><div class="line">    Pattern pattern = Pattern.compile(patternStr);</div><div class="line">    Matcher matcher = pattern.matcher(sourceStr);</div><div class="line">    String output = <span class="string">""</span>;</div><div class="line">    matcher.matches();<span class="comment">//匹配之后才能用group(i),start(i),end(i)</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=matcher.groupCount();i++) &#123;</div><div class="line"></div><div class="line">        output += matcher.group(i);</div><div class="line">    &#125;</div><div class="line">    System.out.println(output);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>其中需要注意的是，group(i)等需要先匹配再使用。<br>还有另一种方法，利用find():</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PatternGroup</span><span class="params">()</span></span>&#123;</div><div class="line">    String sourceStr =<span class="string">"&#123;\"timestamp\":\"1087188754894\"&#125;"</span>;</div><div class="line">    String patternStr = <span class="string">"\\&#123;(\"timestamp\":\"\\d+\")\\&#125;"</span>;</div><div class="line">    Pattern pattern = Pattern.compile(patternStr);</div><div class="line">    Matcher matcher = pattern.matcher(sourceStr);</div><div class="line">    String output = <span class="string">""</span>;</div><div class="line">    <span class="keyword">while</span>(matcher.find()) &#123;</div><div class="line">        System.out.println(matcher.group());</div><div class="line">    &#125;</div><div class="line">    System.out.println(output);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="Java中正则表达式的进一步应用：Grok"><a href="#Java中正则表达式的进一步应用：Grok" class="headerlink" title="Java中正则表达式的进一步应用：Grok"></a>Java中正则表达式的进一步应用：Grok</h4><p>待写。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Intellj IDEA中配置Spring+Mybatis]]></title>
      <url>http://xiaoai.site/2016/05/17/Intellj-IDEA%E4%B8%AD%E9%85%8D%E7%BD%AESpring-Mybatis/</url>
      <content type="html"><![CDATA[<h4 id="Intellj-IDEA中配置Spring-Mybatis"><a href="#Intellj-IDEA中配置Spring-Mybatis" class="headerlink" title="Intellj IDEA中配置Spring+Mybatis"></a>Intellj IDEA中配置Spring+Mybatis</h4><p> Spring+Mybatis 可以面相接口编程（无需接口的实现类），且可由数据库生成代码，减少了大量编码工作量，整合的具体步骤如下：<br> <a id="more"></a></p>
<ol>
<li>数据库中新建表<br>例如新建user表：<br>| id | name   |<br>| —| —— |<br>| 1  | 喵小爱  | </li>
<li><p>生成代码</p>
<ul>
<li>新建一个文件夹。将以下内容放入文件夹中（jar包均可在maven仓库找到）<blockquote>
<p>|— generatorConfig.xml<br>|— mybatis-3.4.0.jar<br>|— mybatis-generator-core-1.3.2.jar<br>|— mysql-connector-java-5.1.39-bin.jar<br>|— src (空目录)</p>
</blockquote>
</li>
<li><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;  </div><div class="line"><span class="meta">&lt;!DOCTYPE generatorConfiguration  </span></div><div class="line">  PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"  </div><div class="line">  "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"&gt;  </div><div class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span>  </div><div class="line"><span class="comment">&lt;!-- 数据库驱动--&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">classPathEntry</span>  <span class="attr">location</span>=<span class="string">"mysql-connector-java-5.1.39-bin.jar"</span>/&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">"DB2Tables"</span>  <span class="attr">targetRuntime</span>=<span class="string">"MyBatis3"</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">commentGenerator</span>&gt;</span>  </div><div class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suppressDate"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span>  </div><div class="line">            <span class="comment">&lt;!-- 是否去除自动生成的注释 true：是 ： false:否 --&gt;</span>  </div><div class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suppressAllComments"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span>  </div><div class="line">        <span class="tag">&lt;/<span class="name">commentGenerator</span>&gt;</span>  </div><div class="line">        <span class="comment">&lt;!--数据库链接URL，用户名、密码 --&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">"com.mysql.jdbc.Driver"</span> <span class="attr">connectionURL</span>=<span class="string">"jdbc:mysql://localhost:3306/test"</span> <span class="attr">userId</span>=<span class="string">"user"</span> <span class="attr">password</span>=<span class="string">"userpwd"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">jdbcConnection</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">javaTypeResolver</span>&gt;</span>  </div><div class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"forceBigDecimals"</span> <span class="attr">value</span>=<span class="string">"false"</span>/&gt;</span>  </div><div class="line">        <span class="tag">&lt;/<span class="name">javaTypeResolver</span>&gt;</span>  </div><div class="line">        <span class="comment">&lt;!-- 生成模型的包名和位置--&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">"com.test.model"</span> <span class="attr">targetProject</span>=<span class="string">"src"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"enableSubPackages"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span>  </div><div class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"trimStrings"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span>  </div><div class="line">        <span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span>  </div><div class="line">        <span class="comment">&lt;!-- 生成映射文件的包名和位置--&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">"com.test.dao.mapping"</span> <span class="attr">targetProject</span>=<span class="string">"src"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"enableSubPackages"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span>  </div><div class="line">        <span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span>  </div><div class="line">        <span class="comment">&lt;!-- 生成DAO的包名和位置--&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">"XMLMAPPER"</span> <span class="attr">targetPackage</span>=<span class="string">"com.test.dao"</span> <span class="attr">targetProject</span>=<span class="string">"src"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"enableSubPackages"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span>  </div><div class="line">        <span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span>  </div><div class="line">        <span class="comment">&lt;!-- 要生成的表 tableName是数据库中的表名或视图名 domainObjectName是实体类名--&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">"user"</span> <span class="attr">domainObjectName</span>=<span class="string">"User"</span> <span class="attr">enableCountByExample</span>=<span class="string">"false"</span> <span class="attr">enableUpdateByExample</span>=<span class="string">"false"</span> <span class="attr">enableDeleteByExample</span>=<span class="string">"false"</span> <span class="attr">enableSelectByExample</span>=<span class="string">"false"</span> <span class="attr">selectByExampleQueryId</span>=<span class="string">"false"</span>&gt;</span><span class="tag">&lt;/<span class="name">table</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">context</span>&gt;</span>  </div><div class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>在terminal进入新建的文件夹输入</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">java -jar mybatis-generator-core-1.3.2.jar -configfile generatorConfig.xml -overwrite</div></pre></td></tr></table></figure>
</li>
<li><p>在文件夹的src目录下找到生成代码拷贝到编辑器的java目录下，如图所示：</p>
<blockquote>
<img src="/2016/05/17/Intellj-IDEA中配置Spring-Mybatis/mybatisWithSpring.png" alt="This is an example image" title="This is an example image">
</blockquote>
</li>
</ul>
</li>
</ol>
<p>3 .接下来配置spring与Mybatis的整合,spring的配置文件如下(spring-mybatis.xml)<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></div><div class="line">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></div><div class="line">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></div><div class="line">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</div><div class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.test"</span>/&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 配置数据源 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>jdbc:mysql://localhost:3306/test<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"user"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"userpwd"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 不需要mybatis的配置映射文件 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span> /&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 自动扫描接口对应的mapping.xml文件 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mapperLocations"</span> <span class="attr">value</span>=<span class="string">"classpath*:com/test/dao/mapping/*.xml"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 配置需要扫描的接口生成bean的路径，指向接口所在的包，接口用@Repository 和@Transational注解--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"sqlSessionFactoryBeanName"</span> <span class="attr">value</span>=<span class="string">"sqlSessionFactory"</span>/&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"annotationClass"</span> <span class="attr">value</span>=<span class="string">"org.springframework.stereotype.Repository"</span>/&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"basePackage"</span> <span class="attr">value</span>=<span class="string">"com.test.dao"</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 事务管理 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"transactionManager"</span></span></div><div class="line">          <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>4 .此时编写测试类：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@RunWith</span>(SpringJUnit4ClassRunner.class)</div><div class="line"><span class="meta">@ContextConfiguration</span>(locations = <span class="string">"classpath*:spring-mybatis.xml"</span>)</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">testUser</span> </span>&#123;</div><div class="line"><span class="comment">//按类型自动注入userMapper</span></div><div class="line">    <span class="meta">@Autowired</span></div><div class="line">    UserMapper userMapper;</div><div class="line">    <span class="meta">@Test</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testinsert</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">        User user = <span class="keyword">new</span> User();</div><div class="line">        user.setId(<span class="string">"2"</span>);</div><div class="line">        user.setName(<span class="string">"fly_mop"</span>);</div><div class="line">        userMapper.insert(user);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>运行测试成功，数据库中已经有了相应的记录</p>
<h4 id="可能错误：Invalid-bound-statement-not-found"><a href="#可能错误：Invalid-bound-statement-not-found" class="headerlink" title="可能错误：Invalid bound statement (not found)"></a>可能错误：Invalid bound statement (not found)</h4><ul>
<li>原因：根据maven的约定，配置文件默认放在src/resouces目录下，放在dao/mapping/下的配置文件，Intellj不会将其编译到classes目录下，配置未找到，从而产生绑定失败的错误</li>
<li>解决：在pom.xml中添加如下配置：<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></div><div class="line">  ...</div><div class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></div><div class="line">    ...</div><div class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[mysql和java中的时间]]></title>
      <url>http://xiaoai.site/2016/04/15/mysql%E5%92%8Cjava%E4%B8%AD%E7%9A%84%E6%97%B6%E9%97%B4/</url>
      <content type="html"><![CDATA[<h3 id="MySQL中的时间"><a href="#MySQL中的时间" class="headerlink" title="MySQL中的时间"></a>MySQL中的时间</h3><p>MySQL中有四种表示时间的类型，分别是 <code>DATETIME</code> <code>DATE</code> <code>TIMESTAMP</code> <code>TIME</code> 分别适用如下:<br> <a id="more"></a><br><code>date</code>:只有日期没有时间，范围为’1000-01-01’到’9999-12-31’，显示格式为’YYYY-MM-DD’</p>
<p><code>DATETIME</code>:既有日期又有时间，范围为’1000-01-01 00:00:00’ 到 ‘9999-12-31 23:59:59’，显示格式为’YYYY-MM-DD HH:MM:SS’</p>
<p><code>TIMESTAMP</code>:包含日期和秒，显示格式为YYYY-MM-DD HH:MM:SS，表示范围为’1970-01-01 00:00:00’UTC 到 ‘2038-01-19 03:14:07’ UTC，插入TIMESTAMP值，MySQL会转换服务器所在时区时间（默认）为UTC时区时间，取出也同理</p>
<p>可以自行设定当前时区</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SET</span> <span class="keyword">time_zone</span>=<span class="string">'+00:00'</span></div></pre></td></tr></table></figure>
<p>设定举例</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test_timestamp <span class="keyword">values</span>(<span class="string">"2016-04-15 21:31:59"</span>);</div></pre></td></tr></table></figure>
<p><code>CURRENT_TIMESTAMP</code>: 当前TimeStamp</p>
<p>举例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">Create</span> <span class="keyword">table</span> <span class="keyword">test</span>(</div><div class="line"><span class="keyword">time</span> <span class="keyword">TIMESTAMP</span> <span class="keyword">DEFAULT</span> <span class="keyword">CURRENT_TIMESTAMP</span> );</div></pre></td></tr></table></figure>
<p><code>TIME</code>：只有时间，显示格式为 ‘HH:MM:SS/HHH:MM:SS’，范围从’-838:59:59’ 到 ‘838:59:59’</p>
<h3 id="Java中的时间"><a href="#Java中的时间" class="headerlink" title="Java中的时间"></a>Java中的时间</h3><ul>
<li>java.util.Date</li>
<li>java.util.Calendar</li>
<li>java.time (java8)</li>
</ul>
<h3 id="Java中的时间与MySQL中的时间之间转换"><a href="#Java中的时间与MySQL中的时间之间转换" class="headerlink" title="Java中的时间与MySQL中的时间之间转换"></a>Java中的时间与MySQL中的时间之间转换</h3><p>java.util.Date 的子类 </p>
<ul>
<li>java.sql.Date -&gt;MySQL DATE</li>
<li>java.sql.Time -&gt;Mysql TIME</li>
<li>java.sql.Timestamp -&gt;MySQL TIMESTAMP</li>
<li><p>与MySQL中DATETIME对应的做法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">java.util.Date date = <span class="keyword">new</span> Date();</div><div class="line">Object obj = <span class="keyword">new</span> java.sql.Timestamp(date.getTime());</div><div class="line">perparedStatement.setObject(obj);</div></pre></td></tr></table></figure>
</li>
<li><p>LocalDate与java.sql.Date之间转换</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">java.sql.Date.valueOf(localDate);</div><div class="line">sqlDate.toLocalDate();</div></pre></td></tr></table></figure>
</li>
</ul>
<p>参考资料：</p>
<p><a href="http://dev.mysql.com/doc/refman/5.7/en/datetime.html" target="_blank" rel="external">http://dev.mysql.com/doc/refman/5.7/en/datetime.html</a></p>
<p><a href="http://www.tutorialspoint.com/java/java_date_time.htm" target="_blank" rel="external">http://www.tutorialspoint.com/java/java_date_time.htm</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[既然建了博客就写点东西]]></title>
      <url>http://xiaoai.site/2016/04/15/%E6%97%A2%E7%84%B6%E5%BB%BA%E4%BA%86%E5%8D%9A%E5%AE%A2%E5%B0%B1%E5%86%99%E7%82%B9%E4%B8%9C%E8%A5%BF/</url>
      <content type="html"><![CDATA[<p>一时冲动看到域名特别便宜就买了，闲置了好长时间，因为懒一直被搁置，最近开始重新看一些编程所以弄了个hexo生成的博客放在github page上，既然弄了所以得写点东西以示存在吧，想了一下这个博客就分为一下两类<br><a id="more"></a></p>
<blockquote>
<ul>
<li>学习笔记，自己的总结</li>
<li>日记，杂谈</li>
</ul>
</blockquote>
<h4 id="一些联系方式"><a href="#一些联系方式" class="headerlink" title="一些联系方式"></a>一些联系方式</h4><p><a href="https://twitter.com/fly_mop" target="_blank" rel="external">twitter</a>（一个话痨），欢迎来fo (づ｡◕‿‿◕｡)づ</p>
<p><a href="http://telegram.me/fly_mop" target="_blank" rel="external">telegram</a> 即时聊天工具戳这里可以找到我</p>
<p><a href="mailto:hftangyang@gmail.com" target="_blank" rel="external">gmail</a> 也可以给我写邮件</p>
<p>就酱O(∩_∩)O~~</p>
]]></content>
    </entry>
    
  
  
</search>
